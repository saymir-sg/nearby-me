(this["webpackJsonpnearby-me"]=this["webpackJsonpnearby-me"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(7),o=a.n(i),r=a(1),l=a(2),c=a(4),u=a(3),m=a(5),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={list:[],isVisible:!1,error:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getPlaces()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.getPlaces()}},{key:"getPlaces",value:function(){var e=this;console.log(this.props);var t="https://cors-anywhere.herokuapp.com/",a="https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=".concat(this.props.latitude,",").concat(this.props.longitude,"&radius=1000&types=").concat(this.props.value,"&key=").concat("AIzaSyBnOC2cYnLyaaYXtnd_IEQWZLkqvg0tqoE");console.log(t+a),fetch(t+a).then((function(e){return e.json()})).then((function(t){console.log(t.results),e.setState({isVisible:!!t.results.length}),e.state.isVisible?e.setState({list:t.results}):0==t.results.length?e.setState({error:t.status}):e.setState({error:"Something went wrong!!"})})).catch((function(){return console.log("Error")}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"places_wrapper"},this.state.isVisible?s.a.createElement("div",{className:"places_ul"},this.state.list.map((function(e,t){return s.a.createElement("div",{className:"li_box",key:t},s.a.createElement("div",{className:"inner_box"},s.a.createElement("h4",{className:"place_title"},e.name),s.a.createElement("p",{className:"txt"},e.vicinity)))}))):""===this.state.error||this.state.isVisible?s.a.createElement("div",{className:"error_div"},s.a.createElement("h4",null,"Something went wrong")):s.a.createElement("div",{className:"error_div"},s.a.createElement("h4",null,this.state.error)))}}]),t}(s.a.Component),h=(a(13),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).filterList=[{name:"ATM",type:"atm"},{name:"Airport",type:"airport"},{name:"Bank",type:"bank"},{name:"Bus station",type:"bus_station"},{name:"Hospital",type:"hospital"},{name:"Local Government Office",type:"local_government_office"},{name:"Pharmacy",type:"pharmacy"},{name:"Train Station",type:"train_station"}],a.eventHandler=function(e){console.log("clicked = ",e),a.setState({value:e})},a.state={value:"atm",latitude:0,longitude:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=navigator.geolocation;return new Promise((function(t,a){e||a(new Error("Not Supported")),e.getCurrentPosition((function(e){t(e)}),(function(){a(new Error("Permission denied"))}))}))})().then((function(t){console.log(t);var a=t.coords.latitude,n=t.coords.longitude;e.setState({latitude:a,longitude:n})}))}},{key:"componentDidUpdate",value:function(e,t){t.value!==this.state.value&&this.render()}},{key:"render",value:function(){var e,t=this;return this.state.latitude>0&&this.state.longitude>0&&(e=s.a.createElement(p,{value:this.state.value,latitude:this.state.latitude,longitude:this.state.longitude})),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"header"},s.a.createElement("h4",{className:"title text_center"},"Nearby Me"),s.a.createElement("p",{className:"text_center"},s.a.createElement("strong",null,"Latitude:"),this.state.latitude," ",s.a.createElement("strong",null,"Longitude:")," ",this.state.longitude),s.a.createElement("div",{className:"btns_wrapper text_center"},this.filterList.map((function(e){return s.a.createElement("button",{key:e.type,className:"btn "+(t.state.value==e.type?"active":""),onClick:function(){return t.eventHandler(e.type)}},e.name)}))),e))}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.5620c19e.chunk.js.map